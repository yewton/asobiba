(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}})();function c(n,o){document.querySelectorAll(n).forEach(r=>{r.style.display=o})}async function f(){const n=await fetch("/user/",{headers:{Accept:"application/json"}});if(n.ok){const o=await n.json(),r=document.getElementById("user");r&&(r.innerHTML=o.name),c(".unauthenticated","none"),c(".authenticated","")}}var l;const m=((l=document.querySelector('meta[name="_csrf"]'))==null?void 0:l.getAttribute("content"))||"";var d;const u=((d=document.querySelector('meta[name="_csrf_header"]'))==null?void 0:d.getAttribute("content"))||"",a=document.getElementById("button-logout");function p(){a&&(a.onclick=async()=>{const n=new Headers;0<u.length&&n.append(u,m),(await fetch("/logout",{method:"POST",headers:n})).ok&&(c(".unauthenticated",""),c(".authenticated","none"))})}p();(async()=>await f())();
//# sourceMappingURL=auth.bundle.js.map
